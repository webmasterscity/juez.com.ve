<?php ob_start ("ob_gzhandler"); ?>
/*! * Bootstrap toggle */
+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.toggle"),f="object"==typeof b&&b;e||d.data("bs.toggle",e=new c(this,f)),"string"==typeof b&&e[b]&&e[b]()})}var c=function(b,c){this.$element=a(b),this.options=a.extend({},this.defaults(),c),this.render()};c.VERSION="2.2.0",c.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"default",size:"normal",style:"",width:null,height:null},c.prototype.defaults=function(){return{on:this.$element.attr("data-on")||c.DEFAULTS.on,off:this.$element.attr("data-off")||c.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||c.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||c.DEFAULTS.offstyle,size:this.$element.attr("data-size")||c.DEFAULTS.size,style:this.$element.attr("data-style")||c.DEFAULTS.style,width:this.$element.attr("data-width")||c.DEFAULTS.width,height:this.$element.attr("data-height")||c.DEFAULTS.height}},c.prototype.render=function(){this._onstyle="btn-"+this.options.onstyle,this._offstyle="btn-"+this.options.offstyle;var b="large"===this.options.size?"btn-lg":"small"===this.options.size?"btn-sm":"mini"===this.options.size?"btn-xs":"",c=a('<label class="btn">').html(this.options.on).addClass(this._onstyle+" "+b),d=a('<label class="btn">').html(this.options.off).addClass(this._offstyle+" "+b+" active"),e=a('<span class="toggle-handle btn btn-default">').addClass(b),f=a('<div class="toggle-group">').append(c,d,e),g=a('<div class="toggle btn" data-toggle="toggle">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(b).addClass(this.options.style);this.$element.wrap(g),a.extend(this,{$toggle:this.$element.parent(),$toggleOn:c,$toggleOff:d,$toggleGroup:f}),this.$toggle.append(f);var h=this.options.width||Math.max(c.outerWidth(),d.outerWidth())+e.outerWidth()/2,i=this.options.height||Math.max(c.outerHeight(),d.outerHeight());c.addClass("toggle-on"),d.addClass("toggle-off"),this.$toggle.css({width:h,height:i}),this.options.height&&(c.css("line-height",c.height()+"px"),d.css("line-height",d.height()+"px")),this.update(!0),this.trigger(!0)},c.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()},c.prototype.on=function(a){return this.$element.prop("disabled")?!1:(this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),void(a||this.trigger()))},c.prototype.off=function(a){return this.$element.prop("disabled")?!1:(this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),void(a||this.trigger()))},c.prototype.enable=function(){this.$toggle.removeAttr("disabled"),this.$element.prop("disabled",!1)},c.prototype.disable=function(){this.$toggle.attr("disabled","disabled"),this.$element.prop("disabled",!0)},c.prototype.update=function(a){this.$element.prop("disabled")?this.disable():this.enable(),this.$element.prop("checked")?this.on(a):this.off(a)},c.prototype.trigger=function(b){this.$element.off("change.bs.toggle"),b||this.$element.change(),this.$element.on("change.bs.toggle",a.proxy(function(){this.update()},this))},c.prototype.destroy=function(){this.$element.off("change.bs.toggle"),this.$toggleGroup.remove(),this.$element.removeData("bs.toggle"),this.$element.unwrap()};var d=a.fn.bootstrapToggle;a.fn.bootstrapToggle=b,a.fn.bootstrapToggle.Constructor=c,a.fn.toggle.noConflict=function(){return a.fn.bootstrapToggle=d,this},a(function(){a("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()}),a(document).on("click.bs.toggle","div[data-toggle^=toggle]",function(b){var c=a(this).find("input[type=checkbox]");c.bootstrapToggle("toggle"),b.preventDefault()})}(jQuery);
/*! * Lemez validacon 1.2.3 */
jQuery.fn.lemez_aceptar=function(a,z){$(this).attr("autocomplete","off");var c=true;var d=false;var e="#CC0000";var f=$(this).css("border-top-color");var f2=$(this).css("border-bottom-color");var f3=$(this).css("border-left-color");var f4=$(this).css("border-right-color");var g=$(this);switch(a){case"texto":var h=/^[a-zA-Z \u00C0-\u00ff\s]+$/;var i="Solo se acepta Texto";break;case"texto_numero":var h=/^[a-zA-Z0-9 \u00C0-\u00ff\s]+$/;var i="Solo se acepta Texto y Numeros";break;case"texto_especial":var h=/^[a-zA-Z., \u00C0-\u00ff\s]+$/;var i="Solo se acepta texto comas y puntos";break;case"numero":var h=/^[\d]+$/;var i="Solo se aceptan Numeros";break;case"numero_final":var h=/^[\d]+$/;var d=true;var i="Solo se aceptan Numeros";break;case"numero_para_autocomplete":var h=/^[\d]+$/;var d=true;var i=false;break;case"numero_especial":var h=/^[\d.,]+$/;var i="Solo se aceptan Numeros";break;case"correo":var h=/([0-9a-zA-Z]+[-._+&])*[0-9a-zA-Z]+@([-0-9a-zA-Z]+[.])+[a-zA-Z]{2,6}/;var d=true;var i="Debe introducir un correo electronico valido Ej: pagina@pagina.com";break;case"todo":var h=/[^\s]/;var d=true;var i="No deje espacios en blanco";break;case"url":var h=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?$/;var d=true;var i="Debe introducir una URL valida Ej: http://google.com";break;case"telefono":var h=/^\+?\d{1,3}?[- .]?\(?(?:\d{2,3})\)?[- .]?\d\d\d[- .]?\d\d\d\d$/;var d=true;var i="Debe introducir un telefono valido Ej: 0255-1111222";break;case"ip":var h=/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/;var d=true;var i="Debe introducir una ip valida Ej: 192.168.1.1";break;case"fecha":var h=/^(?:(?:0?[1-9]|1\d|2[0-8])(\/|-)(?:0?[1-9]|1[0-2]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:31(\/|-)(?:0?[13578]|1[02]))|(?:(?:29|30)(\/|-)(?:0?[1,3-9]|1[0-2])))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(29(\/|-)0?2)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/;var d=true;var i="Debe introducir una fecha valida Ej: 29-02-1988";break;case"contrasena":var h=/(?!^[0-9]*$)(?!^[a-zA-Z]*$)^([a-zA-Z0-9]{8,10})$/;var d=true;var i="Debe introducir una contrase√±a que contenga entre 8 a 10 caracteres, estos deben contener letras y numeros.";break;default:{var h=a;var d=true;var i="Existe un error de Validacion, Por Favor Verifique sus campos."}}posicion=g.position();var j=document.createElement("div");j.id="div_msj"+g.attr("id");var k=g.height()+4;$(j).css({border:"1px solid #777",background:"#E6E6E6",position:"absolute","border-radius":"3px",top:posicion.top+k,left:posicion.left});j.innerHTML=i;$("body").append(j);$(j).hide();$(this).keypress(function(a){if(d==false){c=h.test(String.fromCharCode(a.which));if(a.which==8||a.which==0)c=true;return c}});$(this).keyup(function(){j.innerHTML=i;if(d==false){if(c==false){tool_tip(g,i)}else{destruir_tol_tip(g)}}});$(this).blur(function(){if(z!=""&&g.val()){if(h.test(g.val())==false){$(g).css("border-color",e);$(g).focus();if(i!=false)alert(i);return false}else{$(g).css("border-color",f);$("#div_msj"+g.attr("id")).hide();return true}}});$("button,input[type=submit],input[type=button]").click(function(){recolorear();if($(this).attr("id")&&z){boton_clic=$(this).attr("id");todo_id_boton=z;id_boton=todo_id_boton.split(",");for(ii=0;ii<id_boton.length;ii++){if(boton_clic!=id_boton[ii]){b="no";}else{b="si";ii=10000;}}}else{b="no";}if(b=="si"&&g.val()==""){tool_tip(g,"Campo obligatorio");}else{destruir_tol_tip(g);}if(b=="si"||b=="no"&&g.val()!=""){if(h.test(g.val())==false){$(g).css("border-color",e);return false}else{recolorear();return true}}})
function recolorear(){$(g).css("border-top-color",f);$(g).css("border-bottom-color",f2);$(g).css("border-left-color",f3);$(g).css("border-right-color",f4);}function tool_tip(g,i){$(g).tooltip('destroy');$(g).attr('data-toggle','tooltip');$(g).attr('title',i);$(g).attr('data-placement','top');$(g).attr('data-trigger','manual');$(g).tooltip('show');}function destruir_tol_tip(g){$(g).tooltip('destroy');}}
/*! * JQUERY AUTOCOMPLETE  */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(s,i){var n=function(){},n={autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:t.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:n,onSearchComplete:n,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",lookupFilter:function(e,t,s){return-1!==e.value.toLowerCase().indexOf(s)},paramName:"query",transformResult:function(t){return"string"==typeof t?e.parseJSON(t):t}};this.element=s,this.el=e(s),this.suggestions=[],this.badQueries=[],this.selectedIndex=-1,this.currentValue=this.element.value,this.intervalId=0,this.cachedResponse=[],this.onChange=this.onChangeInterval=null,this.isLocal=this.ignoreValueChange=!1,this.suggestionsContainer=null,this.options=e.extend({},n,i),this.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},this.initialize(),this.setOptions(i)}var s={extend:function(t,s){return e.extend(t,s)},createNode:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}};t.utils=s,e.Autocomplete=t,t.formatResult=function(e,t){var s="("+t.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g"),"\\$1")+")";return e.value.replace(RegExp(s,"gi"),"<strong>$1</strong>")},t.prototype={killerFn:null,initialize:function(){var s,i=this,n="."+i.classes.suggestion,o=i.classes.selected,l=i.options;i.element.setAttribute("autocomplete","off"),i.killerFn=function(t){0===e(t.target).closest("."+i.options.containerClass).length&&(i.killSuggestions(),i.disableKillerFn())},l.width&&"auto"!==l.width||(l.width=i.el.outerWidth()),i.suggestionsContainer=t.utils.createNode('<div class="'+l.containerClass+'" style="position: absolute; display: none;"></div>'),s=e(i.suggestionsContainer),s.appendTo(l.appendTo).width(l.width),s.on("mouseover.autocomplete",n,function(){i.activate(e(this).data("index"))}),s.on("mouseout.autocomplete",function(){i.selectedIndex=-1,s.children("."+o).removeClass(o)}),s.on("click.autocomplete",n,function(){i.select(e(this).data("index"),!1)}),i.fixPosition(),window.opera?i.el.on("keypress.autocomplete",function(e){i.onKeyPress(e)}):i.el.on("keydown.autocomplete",function(e){i.onKeyPress(e)}),i.el.on("keyup.autocomplete",function(e){i.onKeyUp(e)}),i.el.on("blur.autocomplete",function(){i.onBlur()}),i.el.on("focus.autocomplete",function(){i.fixPosition()})},onBlur:function(){this.enableKillerFn()},setOptions:function(t){var i=this.options;s.extend(i,t),(this.isLocal=e.isArray(i.lookup))&&(i.lookup=this.verifySuggestionsFormat(i.lookup)),e(this.suggestionsContainer).css({"max-height":i.maxHeight+"px",width:i.width+"px","z-index":i.zIndex})},clearCache:function(){this.cachedResponse=[],this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue=null,this.suggestions=[]},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},fixPosition:function(){var t;"body"===this.options.appendTo&&(t=this.el.offset(),e(this.suggestionsContainer).css({top:t.top+this.el.outerHeight()+"px",left:t.left+"px"}))},enableKillerFn:function(){e(document).on("click.autocomplete",this.killerFn)},disableKillerFn:function(){e(document).off("click.autocomplete",this.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions(),e.intervalId=window.setInterval(function(){e.hide(),e.stopKillSuggestions()},300)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},onKeyPress:function(e){if(this.disabled||this.visible||40!==e.keyCode||!this.currentValue){if(!this.disabled&&this.visible){switch(e.keyCode){case 27:this.el.val(this.currentValue),this.hide();break;case 9:case 13:if(-1===this.selectedIndex)return void this.hide();if(this.select(this.selectedIndex,13===e.keyCode),9===e.keyCode&&!1===this.options.tabDisabled)return;break;case 38:this.moveUp();break;case 40:this.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}}else this.suggest()},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.keyCode){case 38:case 40:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(0<t.options.deferRequestBy?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var e;clearInterval(this.onChangeInterval),this.currentValue=this.element.value,e=this.getQuery(this.currentValue),this.selectedIndex=-1,this.ignoreValueChange?this.ignoreValueChange=!1:e.length<this.options.minChars?this.hide():this.getSuggestions(e)},getQuery:function(t){var s=this.options.delimiter;return s?(t=t.split(s),e.trim(t[t.length-1])):e.trim(t)},getSuggestionsLocal:function(t){var s=t.toLowerCase(),i=this.options.lookupFilter;return{suggestions:e.grep(this.options.lookup,function(e){return i(e,t,s)})}},getSuggestions:function(t){var s,i=this,n=i.options,o=n.serviceUrl;(s=i.isLocal?i.getSuggestionsLocal(t):i.cachedResponse[t])&&e.isArray(s.suggestions)?(i.suggestions=s.suggestions,i.suggest()):i.isBadQuery(t)||(n.params[n.paramName]=t,!1!==n.onSearchStart.call(i.element,n.params)&&(e.isFunction(n.serviceUrl)&&(o=n.serviceUrl.call(i.element,t)),e.ajax({url:o,data:n.ignoreParams?null:n.params,type:n.type,dataType:n.dataType}).done(function(e){i.processResponse(e,t),n.onSearchComplete.call(i.element,t)})))},isBadQuery:function(e){for(var t=this.badQueries,s=t.length;s--;)if(0===e.indexOf(t[s]))return!0;return!1},hide:function(){this.visible=!1,this.selectedIndex=-1,e(this.suggestionsContainer).hide()},suggest:function(){if(0===this.suggestions.length)this.hide();else{var t=this.options.formatResult,s=this.getQuery(this.currentValue),i=this.classes.suggestion,n=this.classes.selected,o=e(this.suggestionsContainer),l="";e.each(this.suggestions,function(e,n){l+='<div class="'+i+'" data-index="'+e+'">'+t(n,s)+"</div>"}),o.html(l).show(),this.visible=!0,this.options.autoSelectFirst&&(this.selectedIndex=0,o.children().first().addClass(n))}},verifySuggestionsFormat:function(t){return t.length&&"string"==typeof t[0]?e.map(t,function(e){return{value:e,data:null}}):t},processResponse:function(e,t){var s=this.options,i=s.transformResult(e,t);i.suggestions=this.verifySuggestionsFormat(i.suggestions),s.noCache||(this.cachedResponse[i[s.paramName]]=i,0===i.suggestions.length&&this.badQueries.push(i[s.paramName])),t===this.getQuery(this.currentValue)&&(this.suggestions=i.suggestions,this.suggest())},activate:function(t){var s=this.classes.selected,i=e(this.suggestionsContainer),n=i.children();return i.children("."+s).removeClass(s),this.selectedIndex=t,-1!==this.selectedIndex&&n.length>this.selectedIndex?(t=n.get(this.selectedIndex),e(t).addClass(s),t):null},select:function(e,t){var s=this.suggestions[e];s&&(this.el.val(s),this.ignoreValueChange=t,this.hide(),this.onSelect(e))},moveUp:function(){-1!==this.selectedIndex&&(0===this.selectedIndex?(e(this.suggestionsContainer).children().first().removeClass(this.classes.selected),this.selectedIndex=-1,this.el.val(this.currentValue)):this.adjustScroll(this.selectedIndex-1))},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(t){var s,i,n=this.activate(t);n&&(n=n.offsetTop,s=e(this.suggestionsContainer).scrollTop(),i=s+this.options.maxHeight-25,s>n?e(this.suggestionsContainer).scrollTop(n):n>i&&e(this.suggestionsContainer).scrollTop(n-this.options.maxHeight+25),this.el.val(this.getValue(this.suggestions[t].value)))},onSelect:function(t){var s=this.options.onSelect;t=this.suggestions[t],this.el.val(this.getValue(t.value)),e.isFunction(s)&&s.call(this.element,t)},getValue:function(e){var t,s=this.options.delimiter;return s?(t=this.currentValue,s=t.split(s),1===s.length?e:t.substr(0,t.length-s[s.length-1].length)+e):e},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),this.disableKillerFn(),e(this.suggestionsContainer).remove()}},e.fn.autocomplete=function(s,i){return 0===arguments.length?this.first().data("autocomplete"):this.each(function(){var n=e(this),o=n.data("autocomplete");"string"==typeof s?o&&"function"==typeof o[s]&&o[s](i):(o&&o.dispose&&o.dispose(),o=new t(this,s),n.data("autocomplete",o))})}});
/*! * POSICIONAR LAS VISTAS  */
jQuery.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldY:0,build:function(options){options=options||{};this.each(function(){this.tableDnDConfig={onDragStyle:options.onDragStyle,onDropStyle:options.onDropStyle,onDragClass:options.onDragClass?options.onDragClass:"tDnD_whileDrag",onDrop:options.onDrop,onDragStart:options.onDragStart,scrollAmount:options.scrollAmount?options.scrollAmount:5};jQuery.tableDnD.makeDraggable(this);});jQuery(document).bind('mousemove',jQuery.tableDnD.mousemove).bind('mouseup',jQuery.tableDnD.mouseup);return this;},makeDraggable:function(table){var rows=table.rows;var config=table.tableDnDConfig;for(var i=0;i<rows.length;i++){var nodrag=$(rows[i]).hasClass("nodrag");if(!nodrag){jQuery(rows[i]).mousedown(function(ev){if(ev.target.tagName=="TD"){jQuery.tableDnD.dragObject=this;jQuery.tableDnD.currentTable=table;jQuery.tableDnD.mouseOffset=jQuery.tableDnD.getMouseOffset(this,ev);if(config.onDragStart){config.onDragStart(table,this);}return false;}}).css("cursor","move");}}},mouseCoords:function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};}return{x:ev.clientX+document.body.scrollLeft-document.body.clientLeft,y:ev.clientY+document.body.scrollTop-document.body.clientTop};},getMouseOffset:function(target,ev){ev=ev||window.event;var docPos=this.getPosition(target);var mousePos=this.mouseCoords(ev);return{x:mousePos.x-docPos.x,y:mousePos.y-docPos.y};},getPosition:function(e){var left=0;var top=0;if(e.offsetHeight==0){e=e.firstChild;}while(e.offsetParent){left+=e.offsetLeft;top+=e.offsetTop;e=e.offsetParent;}left+=e.offsetLeft;top+=e.offsetTop;return{x:left,y:top};},mousemove:function(ev){if(jQuery.tableDnD.dragObject==null){return;}var dragObj=jQuery(jQuery.tableDnD.dragObject);var config=jQuery.tableDnD.currentTable.tableDnDConfig;var mousePos=jQuery.tableDnD.mouseCoords(ev);var y=mousePos.y-jQuery.tableDnD.mouseOffset.y;var yOffset=window.pageYOffset;if(document.all){if(typeof document.compatMode!='undefined'&&document.compatMode!='BackCompat'){yOffset=document.documentElement.scrollTop;}else if(typeof document.body!='undefined'){yOffset=document.body.scrollTop;}}if(mousePos.y-yOffset<config.scrollAmount){window.scrollBy(0,-config.scrollAmount);}else{var windowHeight=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;if(windowHeight-(mousePos.y-yOffset)<config.scrollAmount){window.scrollBy(0,config.scrollAmount);}}if(y!=jQuery.tableDnD.oldY){var movingDown=y>jQuery.tableDnD.oldY;jQuery.tableDnD.oldY=y;if(config.onDragClass){dragObj.addClass(config.onDragClass);}else{dragObj.css(config.onDragStyle);}var currentRow=jQuery.tableDnD.findDropTargetRow(dragObj,y);if(currentRow){if(movingDown&&jQuery.tableDnD.dragObject!=currentRow){jQuery.tableDnD.dragObject.parentNode.insertBefore(jQuery.tableDnD.dragObject,currentRow.nextSibling);}else if(!movingDown&&jQuery.tableDnD.dragObject!=currentRow){jQuery.tableDnD.dragObject.parentNode.insertBefore(jQuery.tableDnD.dragObject,currentRow);}}}return false;},findDropTargetRow:function(draggedRow,y){var rows=jQuery.tableDnD.currentTable.rows;for(var i=0;i<rows.length;i++){var row=rows[i];var rowY=this.getPosition(row).y;var rowHeight=parseInt(row.offsetHeight)/2;if(row.offsetHeight==0){rowY=this.getPosition(row.firstChild).y;rowHeight=parseInt(row.firstChild.offsetHeight)/2;}if((y>rowY-rowHeight)&&(y<(rowY+rowHeight))){if(row==draggedRow){return null;}var config=jQuery.tableDnD.currentTable.tableDnDConfig;if(config.onAllowDrop){if(config.onAllowDrop(draggedRow,row)){return row;}else{return null;}}else{var nodrop=$(row).hasClass("nodrop");if(!nodrop){return row;}else{return null;}}return row;}}return null;},mouseup:function(e){if(jQuery.tableDnD.currentTable&&jQuery.tableDnD.dragObject){var droppedRow=jQuery.tableDnD.dragObject;var config=jQuery.tableDnD.currentTable.tableDnDConfig;if(config.onDragClass){jQuery(droppedRow).removeClass(config.onDragClass);}else{jQuery(droppedRow).css(config.onDropStyle);}jQuery.tableDnD.dragObject=null;if(config.onDrop){config.onDrop(jQuery.tableDnD.currentTable,droppedRow);}jQuery.tableDnD.currentTable=null;}},serialize:function(){if(jQuery.tableDnD.currentTable){var result="";var tableId=jQuery.tableDnD.currentTable.id;var rows=jQuery.tableDnD.currentTable.rows;for(var i=0;i<rows.length;i++){if(result.length>0)result+="&";result+=tableId+'[]='+rows[i].id;}return result;}else{return"Error: No Table id set, you need to set an id on your table and every row";}}}
jQuery.fn.extend({tableDnD:jQuery.tableDnD.build});
/*! * JQUERT TOKENINPUT  */
!function(e){var t={method:"GET",contentType:"json",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",animateDropdown:!0,tokenLimit:null,tokenDelimiter:",",preventDuplicates:!1,tokenValue:"id",prePopulate:null,processPrePopulate:!1,idPrefix:"token-input-",resultsFormatter:function(e){return"<li>"+e[this.propertyToSearch]+"</li>"},tokenFormatter:function(e){return"<li><p>"+e[this.propertyToSearch]+"</p></li>"},onResult:null,onAdd:null,onDelete:null,onReady:null},n={tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"},o={BEFORE:0,AFTER:1,END:2},i={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188},a={init:function(n,o){var i=e.extend({},t,o||{});return this.each(function(){e(this).data("tokenInputObject",new e.TokenList(this,n,i))})},clear:function(){return this.data("tokenInputObject").clear(),this},add:function(e){return this.data("tokenInputObject").add(e),this},remove:function(e){return this.data("tokenInputObject").remove(e),this},get:function(){return this.data("tokenInputObject").getTokens()}};e.fn.tokenInput=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):a.init.apply(this,arguments)},e.TokenList=function(t,a,s){function l(){return null!==s.tokenLimit&&O>=s.tokenLimit?(I.hide(),void g()):void 0}function r(){if(F!==(F=I.val())){var e=F.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");W.html(e),I.width(W.width()+30)}}function c(t){var n=s.tokenFormatter(t);n=e(n).addClass(s.classes.token).insertBefore(M),e("<span>"+s.deleteText+"</span>").addClass(s.classes.tokenDelete).appendTo(n).click(function(){return f(e(this).parent()),N.change(),!1});var o={id:t.id};return o[s.propertyToSearch]=t[s.propertyToSearch],e.data(n.get(0),"tokeninput",t),b=b.slice(0,B).concat([o]).concat(b.slice(B)),B++,k(b,N),O+=1,null!==s.tokenLimit&&O>=s.tokenLimit&&(I.hide(),g()),n}function u(t){var n=s.onAdd;if(O>0&&s.preventDuplicates){var o=null;if(G.children().each(function(){var n=e(this),i=e.data(n.get(0),"tokeninput");return i&&i.id===t.id?(o=n,!1):void 0}),o)return d(o),M.insertAfter(o),void I.focus()}(null==s.tokenLimit||O<s.tokenLimit)&&(c(t),l()),I.val(""),g(),e.isFunction(n)&&n.call(N,t)}function d(e){e.addClass(s.classes.selectedToken),j=e.get(0),I.val(""),g()}function p(e,t){e.removeClass(s.classes.selectedToken),j=null,t===o.BEFORE?(M.insertBefore(e),B--):t===o.AFTER?(M.insertAfter(e),B++):(M.appendTo(G),B=O),I.focus()}function h(t){var n=j;j&&p(e(j),o.END),n===t.get(0)?p(t,o.END):d(t)}function f(t){var n=e.data(t.get(0),"tokeninput"),o=s.onDelete,i=t.prevAll().length;i>B&&i--,t.remove(),j=null,I.focus(),b=b.slice(0,i).concat(b.slice(i+1)),B>i&&B--,k(b,N),O-=1,null!==s.tokenLimit&&I.show().val("").focus(),e.isFunction(o)&&o.call(N,n)}function k(t,n){var o=e.map(t,function(e){return e[s.tokenValue]});n.val(o.join(s.tokenDelimiter))}function g(){U.hide().empty(),_=null}function m(){U.css({position:"absolute",top:e(G).offset().top+e(G).outerHeight(),left:e(G).offset().left,zindex:999}).show()}function v(){s.searchingText&&(U.html("<p>"+s.searchingText+"</p>"),m())}function T(){s.hintText&&(U.html("<p>"+s.hintText+"</p>"),m())}function y(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>")}function C(e,t,n){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","g"),y(t,n))}function E(t,n){if(n&&n.length){U.empty();var o=e("<ul>").appendTo(U).mouseover(function(t){w(e(t.target).closest("li"))}).mousedown(function(t){return u(e(t.target).closest("li").data("tokeninput")),N.change(),!1}).hide();e.each(n,function(n,i){var a=s.resultsFormatter(i);a=C(a,i[s.propertyToSearch],t),a=e(a).appendTo(o),n%2?a.addClass(s.classes.dropdownItem):a.addClass(s.classes.dropdownItem2),0===n&&w(a),e.data(a.get(0),"tokeninput",i)}),m(),s.animateDropdown?o.slideDown("fast"):o.show()}else s.noResultsText&&(U.html("<p>"+s.noResultsText+"</p>"),m())}function w(t){t&&(_&&D(e(_)),t.addClass(s.classes.selectedDropdownItem),_=t.get(0))}function D(e){e.removeClass(s.classes.selectedDropdownItem),_=null}function R(){var t=I.val().toLowerCase();t&&t.length&&(j&&p(e(j),o.AFTER),t.length>=s.minChars?(v(),clearTimeout(P),P=setTimeout(function(){x(t)},s.searchDelay)):g())}function x(t){var n=t+A(),o=S.get(n);if(o)E(t,o);else if(s.url){var i=A(),a={};if(a.data={},i.indexOf("?")>-1){var l=i.split("?");a.url=l[0];var r=l[1].split("&");e.each(r,function(e,t){var n=t.split("=");a.data[n[0]]=n[1]})}else a.url=i;a.data[s.queryParam]=t,a.type=s.method,a.dataType=s.contentType,s.crossDomain&&(a.dataType="jsonp"),a.success=function(o){e.isFunction(s.onResult)&&(o=s.onResult.call(N,o)),S.add(n,s.jsonContainer?o[s.jsonContainer]:o),I.val().toLowerCase()===t&&E(t,s.jsonContainer?o[s.jsonContainer]:o)},e.ajax(a)}else if(s.local_data){var c=e.grep(s.local_data,function(e){return e[s.propertyToSearch].toLowerCase().indexOf(t.toLowerCase())>-1});e.isFunction(s.onResult)&&(c=s.onResult.call(N,c)),S.add(n,c),E(t,c)}}function A(){var e=s.url;return"function"==typeof s.url&&(e=s.url.call()),e}if("string"===e.type(a)||"function"===e.type(a)){s.url=a;var L=A();void 0===s.crossDomain&&(-1===L.indexOf("://")?s.crossDomain=!1:s.crossDomain=location.href.split(/\/+/g)[1]!==L.split(/\/+/g)[1])}else"object"==typeof a&&(s.local_data=a);s.classes?s.classes=e.extend({},n,s.classes):s.theme?(s.classes={},e.each(n,function(e,t){s.classes[e]=t+"-"+s.theme})):s.classes=n;var P,F,b=[],O=0,S=new e.TokenList.Cache,I=e('<input type="text" autocomplete="off">').css({outline:"none"}).attr("id",s.idPrefix+t.id).focus(function(){(null===s.tokenLimit||s.tokenLimit!==O)&&T()}).blur(function(){g(),e(this).val("")}).bind("keyup keydown blur update",r).keydown(function(t){var n,a;switch(t.keyCode){case i.LEFT:case i.RIGHT:case i.UP:case i.DOWN:if(e(this).val()){var s=null;return s=t.keyCode===i.DOWN||t.keyCode===i.RIGHT?e(_).next():e(_).prev(),s.length&&w(s),!1}n=M.prev(),a=M.next(),n.length&&n.get(0)===j||a.length&&a.get(0)===j?t.keyCode===i.LEFT||t.keyCode===i.UP?p(e(j),o.BEFORE):p(e(j),o.AFTER):t.keyCode!==i.LEFT&&t.keyCode!==i.UP||!n.length?t.keyCode!==i.RIGHT&&t.keyCode!==i.DOWN||!a.length||d(e(a.get(0))):d(e(n.get(0)));break;case i.BACKSPACE:if(n=M.prev(),!e(this).val().length)return j?(f(e(j)),N.change()):n.length&&d(e(n.get(0))),!1;1===e(this).val().length?g():setTimeout(function(){R()},5);break;case i.TAB:case i.ENTER:case i.NUMPAD_ENTER:case i.COMMA:if(_)return u(e(_).data("tokeninput")),N.change(),!1;break;case i.ESCAPE:return g(),!0;default:String.fromCharCode(t.which)&&setTimeout(function(){R()},5)}}),N=e(t).hide().val("").focus(function(){I.focus()}).blur(function(){I.blur()}),j=null,B=0,_=null,G=e("<ul />").addClass(s.classes.tokenList).click(function(t){var n=e(t.target).closest("li");n&&n.get(0)&&e.data(n.get(0),"tokeninput")?h(n):(j&&p(e(j),o.END),I.focus())}).mouseover(function(t){var n=e(t.target).closest("li");n&&j!==this&&n.addClass(s.classes.highlightedToken)}).mouseout(function(t){var n=e(t.target).closest("li");n&&j!==this&&n.removeClass(s.classes.highlightedToken)}).insertBefore(N),M=e("<li />").addClass(s.classes.inputToken).appendTo(G).append(I),U=e("<div>").addClass(s.classes.dropdown).appendTo("body").hide(),W=e("<tester/>").insertAfter(I).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:I.css("fontSize"),fontFamily:I.css("fontFamily"),fontWeight:I.css("fontWeight"),letterSpacing:I.css("letterSpacing"),whiteSpace:"nowrap"});N.val("");var H=s.prePopulate||N.data("pre");s.processPrePopulate&&e.isFunction(s.onResult)&&(H=s.onResult.call(N,H)),H&&H.length&&e.each(H,function(e,t){c(t),l()}),e.isFunction(s.onReady)&&s.onReady.call(),this.clear=function(){G.children("li").each(function(){0===e(this).children("input").length&&f(e(this))})},this.add=function(e){u(e)},this.remove=function(t){G.children("li").each(function(){if(0===e(this).children("input").length){var n=e(this).data("tokeninput"),o=!0;for(var i in t)if(t[i]!==n[i]){o=!1;break}o&&f(e(this))}})},this.getTokens=function(){return b}},e.TokenList.Cache=function(t){var n=e.extend({max_size:500},t),o={},i=0,a=function(){o={},i=0};this.add=function(e,t){i>n.max_size&&a(),o[e]||(i+=1),o[e]=t},this.get=function(e){return o[e]}}}(jQuery);
/*! * bootstrap-typeahead.js v0.0.5 (http://www.upbootstrap.com)  */
!function(a){"use strict";var b=function(b,c){a.fn.typeahead.defaults;c.scrollBar&&(c.items=100,c.menu='<ul class="typeahead dropdown-menu" style="max-height:220px;overflow:auto;"></ul>');var d=this;if(d.$element=a(b),d.options=a.extend({},a.fn.typeahead.defaults,c),d.$menu=a(d.options.menu).insertAfter(d.$element),d.eventSupported=d.options.eventSupported||d.eventSupported,d.grepper=d.options.grepper||d.grepper,d.highlighter=d.options.highlighter||d.highlighter,d.lookup=d.options.lookup||d.lookup,d.matcher=d.options.matcher||d.matcher,d.render=d.options.render||d.render,d.onSelect=d.options.onSelect||null,d.sorter=d.options.sorter||d.sorter,d.source=d.options.source||d.source,d.displayField=d.options.displayField||d.displayField,d.valueField=d.options.valueField||d.valueField,d.options.ajax){var e=d.options.ajax;"string"==typeof e?d.ajax=a.extend({},a.fn.typeahead.defaults.ajax,{url:e}):("string"==typeof e.displayField&&(d.displayField=d.options.displayField=e.displayField),"string"==typeof e.valueField&&(d.valueField=d.options.valueField=e.valueField),d.ajax=a.extend({},a.fn.typeahead.defaults.ajax,e)),d.ajax.url||(d.ajax=null),d.query=""}else d.source=d.options.source,d.ajax=null;d.shown=!1,d.listen()};b.prototype={constructor:b,eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},select:function(){var a=this.$menu.find(".active"),b=a.attr("data-value"),c=this.$menu.find(".active a").text();return this.options.onSelect&&this.options.onSelect({value:b,text:c}),this.$element.val(this.updater(c)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});if(this.$menu.css({top:b.top+b.height,left:b.left}),this.options.alignWidth){var c=a(this.$element[0]).outerWidth();this.$menu.css({width:c})}return this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},ajaxLookup:function(){function b(){this.ajaxToggleLoadClass(!0),this.ajax.xhr&&this.ajax.xhr.abort();var b=this.ajax.preDispatch?this.ajax.preDispatch(c):{query:c};this.ajax.xhr=a.ajax({url:this.ajax.url,data:b,success:a.proxy(this.ajaxSource,this),type:this.ajax.method||"get",dataType:"json"}),this.ajax.timerId=null}var c=a.trim(this.$element.val());return c===this.query?this:(this.query=c,this.ajax.timerId&&(clearTimeout(this.ajax.timerId),this.ajax.timerId=null),!c||c.length<this.ajax.triggerLength?(this.ajax.xhr&&(this.ajax.xhr.abort(),this.ajax.xhr=null,this.ajaxToggleLoadClass(!1)),this.shown?this.hide():this):(this.ajax.timerId=setTimeout(a.proxy(b,this),this.ajax.timeout),this))},ajaxSource:function(a){this.ajaxToggleLoadClass(!1);var b,c=this;if(c.ajax.xhr)return c.ajax.preProcess&&(a=c.ajax.preProcess(a)),c.ajax.data=a,b=c.grepper(c.ajax.data)||[],b.length?(c.ajax.xhr=null,c.render(b.slice(0,c.options.items)).show()):c.shown?c.hide():c},ajaxToggleLoadClass:function(a){this.ajax.loadingClass&&this.$element.toggleClass(this.ajax.loadingClass,a)},lookup:function(){var a,b=this;return b.ajax?void b.ajaxer():(b.query=b.$element.val(),b.query&&(a=b.grepper(b.source))?(0==a.length&&(a[0]={id:-21,name:"Result not Found"}),b.render(a.slice(0,b.options.items)).show()):b.shown?b.hide():b)},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){if(this.options.ajax)return a;for(var b,c=[],d=[],e=[];b=a.shift();)b.toLowerCase().indexOf(this.query.toLowerCase())?~b.indexOf(this.query)?d.push(b):e.push(b):c.push(b);return c.concat(d,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c,d=this,e="string"==typeof d.options.displayField;return b=a(b).map(function(b,f){return"object"==typeof f?(c=e?f[d.options.displayField]:d.options.displayField(f),b=a(d.options.item).attr("data-value",f[d.options.valueField])):(c=f,b=a(d.options.item).attr("data-value",f)),b.find("a").html(d.highlighter(c)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},grepper:function(b){var c,d,e=this,f="string"==typeof e.options.displayField;if(!(f&&b&&b.length))return null;if(b[0].hasOwnProperty(e.options.displayField))c=a.grep(b,function(a){return d=f?a[e.options.displayField]:e.options.displayField(a),e.matcher(d)});else{if("string"!=typeof b[0])return null;c=a.grep(b,function(a){return e.matcher(a)})}return this.sorter(c)},next:function(){var b=this.$menu.find(".active").removeClass("active"),c=b.next();if(c.length||(c=a(this.$menu.find("li")[0])),this.options.scrollBar){var d=this.$menu.children("li").index(c);d%8==0&&this.$menu.scrollTop(26*d)}c.addClass("active")},prev:function(){var a=this.$menu.find(".active").removeClass("active"),b=a.prev();if(b.length||(b=this.$menu.find("li").last()),this.options.scrollBar){var c=this.$menu.children("li"),d=c.length-1,e=c.index(b);(d-e)%8==0&&this.$menu.scrollTop(26*(e-7))}b.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.ajax?this.ajaxLookup():this.lookup()}a.stopPropagation(),a.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()},destroy:function(){this.$element.off("focus",a.proxy(this.focus,this)).off("blur",a.proxy(this.blur,this)).off("keypress",a.proxy(this.keypress,this)).off("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.off("keydown",a.proxy(this.keydown,this)),this.$menu.off("click",a.proxy(this.click,this)).off("mouseenter","li",a.proxy(this.mouseenter,this)).off("mouseleave","li",a.proxy(this.mouseleave,this)),this.$element.removeData("typeahead")}},a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f="object"==typeof c&&c;e||d.data("typeahead",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.typeahead.defaults={source:[],items:10,scrollBar:!1,alignWidth:!0,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',valueField:"id",displayField:"name",onSelect:function(){},ajax:{url:null,timeout:300,method:"get",triggerLength:1,loadingClass:null,preDispatch:null,preProcess:null}},a.fn.typeahead.Constructor=b,a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);c.data("typeahead")||(b.preventDefault(),c.typeahead(c.data()))})})}(window.jQuery);
